---
import BaseLayout from '@/layouts/BaseLayout.astro';
import Pricing from '@/components/Pricing.astro';
import CTA from '@/components/CTA.astro';

const faqs = [
  {
    question: "What counts as an export?",
    answer: "An export is when you download your finished map as an SVG or PNG file. You can create and preview as many maps as you like without using your export quota."
  },
  {
    question: "Can I cancel anytime?",
    answer: "Yes, you can cancel your Pro subscription at any time. You'll keep Pro access until the end of your billing period."
  },
  {
    question: "What file formats can I export?",
    answer: "TopoStory exports PNG files optimized for Instagram Posts (1:1 square) and Stories (1080x1920 vertical). Pro users also get high-resolution SVG and PNG files perfect for professional printing at any size."
  },
  {
    question: "Do you offer refunds?",
    answer: "If you're not satisfied with Pro within the first 14 days, contact us for a full refund. No questions asked."
  },
  {
    question: "What's the difference between Free and Pro?",
    answer: "Free gives you 3 exports per month with 13 core style presets in Instagram formats. Pro unlocks unlimited exports, all current and future style presets, AI-powered POI suggestions for storytelling, and high-resolution print files (SVG/PNG)."
  },
  {
    question: "Do I get AI POI suggestions on the free plan?",
    answer: "AI-powered Points of Interest (landmarks, viewpoints, historic sites) is a Pro feature. Free users can still create beautiful maps, but won't get AI-researched trail suggestions."
  },
  {
    question: "Will I get access to new styles as they're released?",
    answer: "New style presets are a Pro feature. Free users have access to 13 core styles, while Pro users get immediate access to all new styles as we release them."
  }
];

const faqSchema = {
  "@context": "https://schema.org",
  "@type": "FAQPage",
  "mainEntity": faqs.map(faq => ({
    "@type": "Question",
    "name": faq.question,
    "acceptedAnswer": {
      "@type": "Answer",
      "text": faq.answer
    }
  }))
};
---

<BaseLayout
  title="Pricing"
  description="Create Instagram-ready trail maps. Start free with 3 exports/month, upgrade for unlimited exports, AI POI, and print quality."
>
  <script type="application/ld+json" set:html={JSON.stringify(faqSchema)} slot="head" />
  <section class="pt-12 pb-8 bg-terrain-50">
    <div class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 text-center">
      <h1 class="text-4xl sm:text-5xl font-display font-bold text-terrain-900">
        Pricing
      </h1>
      <p class="mt-4 text-lg text-terrain-700">
        Create beautiful trail maps with our simple pricing plans.
      </p>
    </div>
  </section>

  <Pricing />

  <section class="py-16 bg-terrain-50">
    <div class="max-w-3xl mx-auto px-4 sm:px-6 lg:px-8">
      <h2 class="text-2xl font-display font-bold text-terrain-900 text-center mb-8">
        Frequently Asked Questions
      </h2>

      <div class="space-y-4">
        {faqs.map((faq) => (
          <details class="group bg-white rounded-lg border border-terrain-200">
            <summary class="flex items-center justify-between p-6 cursor-pointer list-none font-semibold text-terrain-900 hover:bg-terrain-50 rounded-lg transition-colors">
              {faq.question}
              <svg class="w-5 h-5 text-terrain-500 transition-transform group-open:rotate-180" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7" />
              </svg>
            </summary>
            <p class="px-6 pb-6 text-terrain-700">{faq.answer}</p>
          </details>
        ))}
      </div>
    </div>
  </section>

  <CTA
    title="Ready to get started?"
    description="Try TopoStory free and create your first trail map today."
  />
</BaseLayout>
